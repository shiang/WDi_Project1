'use strict';

exports.__esModule = true;
exports.posesToStyles = undefined;

var _stylefire = require('stylefire');

var _popmotion = require('popmotion');

var pipe = _popmotion.transform.pipe;

// Consider mapping to stylefire

var cssAliasMap = {
  x: 'translateX',
  y: 'translateY',
  z: 'translateZ',
  originX: 'transformOriginX',
  originY: 'transformOriginY'
};

var nextCharToUppercase = function nextCharToUppercase(m) {
  return m[1].toUpperCase();
};
var dashToCamel = function dashToCamel(str) {
  return str.replace(/-([a-z])/g, nextCharToUppercase);
};

var addRule = function addRule(map, rule) {
  var _rule$split = rule.split(':'),
      key = _rule$split[0],
      value = _rule$split[1];

  map[dashToCamel(key)] = value.trim();
  return map;
};

var cssStringToObject = function cssStringToObject(css) {
  return css.split(';').filter(Boolean).reduce(addRule, {});
};

var mapAliased = function mapAliased(css) {
  var aliased = {};
  var keys = Object.keys(css);
  var numKeys = keys.length;
  for (var i = 0; i < numKeys; i++) {
    var key = keys[i];
    var aliasedKey = cssAliasMap[key] ? cssAliasMap[key] : key;
    aliased[aliasedKey] = css[key];
  }
  return aliased;
};

var posesToStyles = exports.posesToStyles = pipe(mapAliased, _stylefire.buildStyles, cssStringToObject);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy91dGlscy5qcyJdLCJuYW1lcyI6WyJwaXBlIiwiY3NzQWxpYXNNYXAiLCJ4IiwieSIsInoiLCJvcmlnaW5YIiwib3JpZ2luWSIsIm5leHRDaGFyVG9VcHBlcmNhc2UiLCJtIiwidG9VcHBlckNhc2UiLCJkYXNoVG9DYW1lbCIsInN0ciIsInJlcGxhY2UiLCJhZGRSdWxlIiwibWFwIiwicnVsZSIsInNwbGl0Iiwia2V5IiwidmFsdWUiLCJ0cmltIiwiY3NzU3RyaW5nVG9PYmplY3QiLCJjc3MiLCJmaWx0ZXIiLCJCb29sZWFuIiwicmVkdWNlIiwibWFwQWxpYXNlZCIsImFsaWFzZWQiLCJrZXlzIiwiT2JqZWN0IiwibnVtS2V5cyIsImxlbmd0aCIsImkiLCJhbGlhc2VkS2V5IiwicG9zZXNUb1N0eWxlcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQTs7QUFDQTs7SUFDUUEsSSx3QkFBQUEsSTs7QUFFUjs7QUFDQSxJQUFNQyxjQUFjO0FBQ2xCQyxLQUFHLFlBRGU7QUFFbEJDLEtBQUcsWUFGZTtBQUdsQkMsS0FBRyxZQUhlO0FBSWxCQyxXQUFTLGtCQUpTO0FBS2xCQyxXQUFTO0FBTFMsQ0FBcEI7O0FBUUEsSUFBTUMsc0JBQXNCLFNBQXRCQSxtQkFBc0I7QUFBQSxTQUFLQyxFQUFFLENBQUYsRUFBS0MsV0FBTCxFQUFMO0FBQUEsQ0FBNUI7QUFDQSxJQUFNQyxjQUFjLFNBQWRBLFdBQWM7QUFBQSxTQUFPQyxJQUFJQyxPQUFKLENBQVksV0FBWixFQUF5QkwsbUJBQXpCLENBQVA7QUFBQSxDQUFwQjs7QUFFQSxJQUFNTSxVQUFVLFNBQVZBLE9BQVUsQ0FBQ0MsR0FBRCxFQUFNQyxJQUFOLEVBQWU7QUFBQSxvQkFDUkEsS0FBS0MsS0FBTCxDQUFXLEdBQVgsQ0FEUTtBQUFBLE1BQ3RCQyxHQURzQjtBQUFBLE1BQ2pCQyxLQURpQjs7QUFFN0JKLE1BQUlKLFlBQVlPLEdBQVosQ0FBSixJQUF3QkMsTUFBTUMsSUFBTixFQUF4QjtBQUNBLFNBQU9MLEdBQVA7QUFDRCxDQUpEOztBQU1BLElBQU1NLG9CQUFvQixTQUFwQkEsaUJBQW9CO0FBQUEsU0FBT0MsSUFDOUJMLEtBRDhCLENBQ3hCLEdBRHdCLEVBRTlCTSxNQUY4QixDQUV2QkMsT0FGdUIsRUFHOUJDLE1BSDhCLENBR3ZCWCxPQUh1QixFQUdkLEVBSGMsQ0FBUDtBQUFBLENBQTFCOztBQUtBLElBQU1ZLGFBQWEsU0FBYkEsVUFBYSxNQUFPO0FBQ3hCLE1BQU1DLFVBQVUsRUFBaEI7QUFDQSxNQUFNQyxPQUFPQyxPQUFPRCxJQUFQLENBQVlOLEdBQVosQ0FBYjtBQUNBLE1BQU1RLFVBQVVGLEtBQUtHLE1BQXJCO0FBQ0EsT0FBSyxJQUFJQyxJQUFJLENBQWIsRUFBZ0JBLElBQUlGLE9BQXBCLEVBQTZCRSxHQUE3QixFQUFrQztBQUNoQyxRQUFNZCxNQUFNVSxLQUFLSSxDQUFMLENBQVo7QUFDQSxRQUFNQyxhQUFhL0IsWUFBWWdCLEdBQVosSUFBbUJoQixZQUFZZ0IsR0FBWixDQUFuQixHQUFzQ0EsR0FBekQ7QUFDQVMsWUFBUU0sVUFBUixJQUFzQlgsSUFBSUosR0FBSixDQUF0QjtBQUNEO0FBQ0QsU0FBT1MsT0FBUDtBQUNELENBVkQ7O0FBWU8sSUFBTU8sd0NBQWdCakMsS0FBS3lCLFVBQUwsMEJBQThCTCxpQkFBOUIsQ0FBdEIiLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IGJ1aWxkU3R5bGVzIH0gZnJvbSAnc3R5bGVmaXJlJztcbmltcG9ydCB7IHRyYW5zZm9ybSB9IGZyb20gJ3BvcG1vdGlvbic7XG5jb25zdCB7IHBpcGUgfSA9IHRyYW5zZm9ybTtcblxuLy8gQ29uc2lkZXIgbWFwcGluZyB0byBzdHlsZWZpcmVcbmNvbnN0IGNzc0FsaWFzTWFwID0ge1xuICB4OiAndHJhbnNsYXRlWCcsXG4gIHk6ICd0cmFuc2xhdGVZJyxcbiAgejogJ3RyYW5zbGF0ZVonLFxuICBvcmlnaW5YOiAndHJhbnNmb3JtT3JpZ2luWCcsXG4gIG9yaWdpblk6ICd0cmFuc2Zvcm1PcmlnaW5ZJ1xufTtcblxuY29uc3QgbmV4dENoYXJUb1VwcGVyY2FzZSA9IG0gPT4gbVsxXS50b1VwcGVyQ2FzZSgpO1xuY29uc3QgZGFzaFRvQ2FtZWwgPSBzdHIgPT4gc3RyLnJlcGxhY2UoLy0oW2Etel0pL2csIG5leHRDaGFyVG9VcHBlcmNhc2UpO1xuXG5jb25zdCBhZGRSdWxlID0gKG1hcCwgcnVsZSkgPT4ge1xuICBjb25zdCBba2V5LCB2YWx1ZV0gPSBydWxlLnNwbGl0KCc6Jyk7XG4gIG1hcFtkYXNoVG9DYW1lbChrZXkpXSA9IHZhbHVlLnRyaW0oKTtcbiAgcmV0dXJuIG1hcDtcbn07XG5cbmNvbnN0IGNzc1N0cmluZ1RvT2JqZWN0ID0gY3NzID0+IGNzc1xuICAuc3BsaXQoJzsnKVxuICAuZmlsdGVyKEJvb2xlYW4pXG4gIC5yZWR1Y2UoYWRkUnVsZSwge30pO1xuXG5jb25zdCBtYXBBbGlhc2VkID0gY3NzID0+IHtcbiAgY29uc3QgYWxpYXNlZCA9IHt9O1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoY3NzKTtcbiAgY29uc3QgbnVtS2V5cyA9IGtleXMubGVuZ3RoO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUtleXM7IGkrKykge1xuICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgY29uc3QgYWxpYXNlZEtleSA9IGNzc0FsaWFzTWFwW2tleV0gPyBjc3NBbGlhc01hcFtrZXldIDoga2V5O1xuICAgIGFsaWFzZWRbYWxpYXNlZEtleV0gPSBjc3Nba2V5XTtcbiAgfVxuICByZXR1cm4gYWxpYXNlZDtcbn07XG5cbmV4cG9ydCBjb25zdCBwb3Nlc1RvU3R5bGVzID0gcGlwZShtYXBBbGlhc2VkLCBidWlsZFN0eWxlcywgY3NzU3RyaW5nVG9PYmplY3QpOyJdfQ==